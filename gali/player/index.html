<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Èü≥Ê®ÇÊí≠ÊîæÂô®</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="player-container">
    <div class="main-player">
            <div class="current-track" id="currentTrack">ü•∑ÁÉèË°£Ë°åÊí≠ÊîæÂô®</div>
    
        <!-- ËÅ≤Ê≥¢ÂúñÂÆπÂô® -->
        <div class="waveform-container">
            <div class="waveform-controls">
                <span class="waveform-title">ËÅ≤Ê≥¢Âúñ</span>
                <button class="waveform-btn" id="viewModeBtn" title="ÂàáÊèõÊ™¢Ë¶ñÊ®°Âºè">
                    <span class="material-icons">graphic_eq</span>
                </button>
                <button class="waveform-btn" id="zoomInBtn" title="ÊîæÂ§ß">
                    <span class="material-icons">zoom_in</span>
                </button>
                <button class="waveform-btn" id="zoomOutBtn" title="Á∏ÆÂ∞è">
                    <span class="material-icons">zoom_out</span>
                </button>
                <button class="waveform-btn" id="resetZoomBtn" title="ÈÇÑÂéü">
                    <span class="material-icons">refresh</span>
                </button>
            </div>
            <canvas id="waveformCanvas" class="waveform-canvas"></canvas>
            <div id="waveformLoading" class="waveform-loading" style="display: none;">ËºâÂÖ•‰∏≠...</div>
        </div>
        
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="time-display">
            <span id="currentTime">00:00</span>
            <span id="duration">00:00</span>
        </div>
        <div class="controls-section">
            <div class="controls-row">
                <button class="btn" id="settingsBtn" title="Ë®≠ÂÆö">
                    <span class="material-icons">settings</span>
                </button>
                <button class="btn" id="playPauseBtn" title="Êí≠Êîæ / Êö´ÂÅú">
                    <span class="material-icons" id="playPauseIcon">play_arrow</span>
                </button>
                <button class="btn" id="stopBtn" title="ÂÅúÊ≠¢">
                    <span class="material-icons">stop</span>
                </button>
                <button class="btn" id="prevBtn" title="‰∏ä‰∏ÄÈ¶ñ">
                    <span class="material-icons">skip_previous</span>
                </button>
                <button class="btn" id="nextBtn" title="‰∏ã‰∏ÄÈ¶ñ">
                    <span class="material-icons">skip_next</span>
                </button>
                <button class="btn btn-mode" id="loopBtn" title="Âæ™Áí∞">
                    <span class="material-icons">repeat</span>
                </button>
                <button class="btn btn-mode" id="shuffleBtn" title="Èö®Ê©ü">
                    <span class="material-icons">shuffle</span>
                </button>
            </div>
        </div>
    </div>
    <div class="playlist">
        <!-- Êí≠ÊîæÊ∏ÖÂñÆË™øÊï¥ÊåâÈàï -->
        <button class="playlist-resize" id="playlistResizeBtn">
            <span class="material-icons">chevron_right</span>
        </button>
        
        <!-- ÊäòÁñäÊôÇÈ°ØÁ§∫ÁöÑÂûÇÁõ¥ÊñáÂ≠ó -->
        <div class="playlist-collapsed-title">Êí≠ÊîæÊ∏ÖÂñÆ</div>

        <div class="settings-panel" id="settingsPanel">
            <div class="settings-header">
                <button class="close-settings" id="closeSettings">
                    <span class="material-icons">close</span>
                </button>
                <h2>Ë®≠ÂÆö</h2>
            </div>
            <div class="settings-content">
                <div class="settings-section">
                    <div class="settings-item">
                        <div class="settings-item-header">
                            <span class="material-icons">play_arrow</span>
                            <span>Êé•Á∫åÊí≠Êîæ</span>
                        </div>
                        <div class="settings-item-control">
                            <label class="switch">
                                <input type="checkbox" id="autoNextSetting" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>

                    <div class="settings-item">
                        <div class="settings-item-header">
                            <span class="material-icons">speed</span>
                            <span>Êí≠ÊîæÈÄüÂ∫¶</span>
                        </div>
                        <div class="settings-item-control">
                            <select id="speedSetting" class="settings-select">
                                <option value="0.5">0.50x</option>
                                <option value="0.70">0.70x</option>
                                <option value="0.8">0.80x</option>
                                <option value="0.9">0.90x</option>
                                <option value="1" selected>1.00x</option>
                                <option value="1.25">1.25x</option>
                                <option value="1.5">1.50x</option>
                                <option value="1.75">1.75x</option>
                                <option value="2">2.00x</option>
                                <option value="2.25">2.25x</option>
                                <option value="2.5">2.50x</option>
                                <option value="2.75">2.75x</option>
                                <option value="3">3.00x</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-item">
                        <div class="settings-item-header">
                            <span class="material-icons">repeat</span>
                            <span>ÈáçË§áÊ¨°Êï∏</span>
                        </div>
                        <div class="settings-item-control">
                            <select id="repeatSetting" class="settings-select">
                                <option value="1" selected>1Ê¨°</option>
                                <option value="2">2Ê¨°</option>
                                <option value="3">3Ê¨°</option>
                                <option value="4">4Ê¨°</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-item">
                        <div class="settings-item-header">
                            <span class="material-icons">volume_up</span>
                            <span>Èü≥Èáè</span>
                        </div>
                        <div class="settings-item-control volume-control">
                            <input type="range" id="volumeSetting" min="0" max="100" value="100">
                            <span id="volumeSettingValue">100%</span>
                        </div>
                    </div>
                    
                    <!-- Êñ∞Â¢ûËÅ≤Ê≥¢ÂúñË®≠ÂÆö -->
                    <div class="settings-item">
                        <div class="settings-item-header">
                            <span class="material-icons">graphic_eq</span>
                            <span>ËÅ≤Ê≥¢ÂúñÊ™¢Ë¶ñ</span>
                        </div>
                        <div class="settings-item-control">
                            <select id="waveformViewSetting" class="settings-select">
                                <option value="waveform" selected>ËÅ≤Ê≥¢</option>
                                <option value="line">Á∑öÊÆµ</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Âú®Êí≠ÊîæÊ∏ÖÂñÆÊ®ôÈ°åÂæåÊ∑ªÂä†Â∑•ÂÖ∑ÂàóÂàáÊèõÊåâÈàï -->
        <div class="playlist-header">
          <span>Êí≠ÊîæÊ∏ÖÂñÆ</span>
          <button class="tool-toggle-btn" id="toolToggleBtn" title="È°ØÁ§∫/Èö±ËóèÂ∑•ÂÖ∑Âàó">
            <span class="material-icons">expand_more</span>
          </button>
        </div>

        <div class="playlist-tools">
            <button class="tool-btn" id="checkAllBtn" title="ÂàáÊèõÂÖ®ÈÅ∏">
                <span class="material-icons">check_box</span>
            </button>
            <button class="tool-btn" id="sortBtn" title="ÂãæÈÅ∏È†ÖÁõÆÊéíÂ∫è">
                <span class="material-icons">sort</span>
            </button>
            <button class="tool-btn" id="sortAllBtn" title="ÂÖ®ÈÉ®ÊéíÂ∫è">
                <span class="material-icons">sort_by_alpha</span>
            </button>
            <button class="tool-btn" id="clearPlaylistBtn" title="Ê∏ÖÁ©∫Êí≠ÊîæÊ∏ÖÂñÆ">
                <span class="material-icons">delete</span>
            </button>
            <button class="tool-btn" id="exportBtn" title="ÂåØÂá∫Ê∏ÖÂñÆ">
                <span class="material-icons">content_copy</span>
            </button>
            <button class="tool-btn" id="toggleNameDisplayBtn" title="ÂàáÊèõÊ™îÂêçÈ°ØÁ§∫Ê®°Âºè">
                <span class="material-icons">wrap_text</span>
            </button>
        </div>
        
        <div class="playlist-content" id="playlistContainer"></div>
        
        <!-- Êñ∞Â¢ûÊåâÈàïÁßªËá≥Ê≠§Ëôï -->
        <button class="add-music-btn dynamic-position" id="addMusicBtn">
          <span class="material-icons">add</span>
        </button>
    </div>
</div>

<div class="modal" id="addMusicModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Ê∑ªÂä†Èü≥Ê®Ç</h3>
            <button class="close-modal" id="closeModal">&times;</button>
        </div>
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="file">ËºâÂÖ•Ê™îÊ°à</button>
                <button class="tab-button" data-tab="url">ËºâÂÖ•Á∂≤ÂùÄ</button>
            </div>

            <div class="tab-content active" data-tab="file">
                <div class="input-group">
                    <input type="file" id="audioFile" accept="audio/*" multiple>
                </div>
                <div class="file-info" id="fileInfo" style="display: none;">
                    <div class="file-count">Â∑≤ÈÅ∏ÊìáÊ™îÊ°àÊï∏Ôºö<span id="fileCount">0</span></div>
                    <div class="file-list" id="fileList"></div>
                </div>
                <div class="input-group" id="basePathGroup">
                    <input type="text" id="basePath" class="base-path-input" 
                           placeholder="‰∏äÂ±§Ë∑ØÂæëÔºàÈÅ∏Â°´Ôºâ‰æãÂ¶ÇÔºöD:\Ê°åÈù¢\Ê≠åÊõ≤">
                </div>
                <div class="file-actions">
                    <button id="clearFiles" class="clear-btn">Ê∏ÖÈô§ÈÅ∏Êìá</button>
                    <button id="confirmFiles" class="url-confirm-btn">Á¢∫Ë™çÊ∑ªÂä†</button>        
                </div>
            </div>
            <div class="tab-content" data-tab="url">
                <div class="input-group">
                    <label>Ëº∏ÂÖ•Èü≥Ê®ÇÁ∂≤ÂùÄÔºàÊØèË°å‰∏ÄÂÄãÔºâ</label>
                    <textarea id="audioUrls" class="url-textarea" placeholder="https://example.com/music1.mp3&#10;https://example.com/music2.mp3"></textarea>
                    <div class="file-actions">
                        <button id="clearUrls" class="clear-btn">Ê∏ÖÈô§Ëº∏ÂÖ•</button>
                        <button id="confirmUrls" class="url-confirm-btn">Á¢∫Ë™çÊ∑ªÂä†</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
