<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±èªå‹•è©ä¸‰æ…‹å­¸ç¿’ ğŸ“š</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .mode-tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .tab-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .tab-btn.active {
            background: white;
            color: #667eea;
            transform: translateY(-2px);
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .verb-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .verb-card {
            background: #f8f9ff;
            border-radius: 15px;
            padding: 20px;
            border-left: 5px solid #667eea;
            transition: transform 0.3s;
        }

        .verb-card:hover {
            transform: translateY(-5px);
        }

        .verb-forms {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .verb-form {
            text-align: center;
            flex: 1;
        }

        .verb-form h4 {
            color: #667eea;
            font-size: 12px;
            margin-bottom: 5px;
        }

        .verb-word {
            background: #667eea;
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .verb-word:hover {
            background: #5a6fd8;
            transform: scale(1.05);
        }

        .chinese-meaning {
            color: #666;
            font-size: 14px;
            margin-top: 10px;
            text-align: center;
        }

        .single-verb-view {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .single-verb-card {
            background: #f8f9ff;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
        }

        .verb-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .nav-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .verb-counter {
            color: #667eea;
            font-weight: bold;
            font-size: 18px;
        }

        .examples {
            margin-top: 30px;
            text-align: left;
        }

        .example-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            cursor: pointer;
            transition: all 0.3s;
        }

        .example-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .example-en {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }

        .example-zh {
            color: #666;
            font-size: 14px;
        }

        .auto-play-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 20px 0;
            transition: all 0.3s;
        }

        .auto-play-btn:hover {
            background: #ff5252;
            transform: scale(1.05);
        }

        .quiz-section {
            text-align: center;
        }

        .quiz-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .quiz-card {
            background: #f8f9ff;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto;
        }

        .quiz-question {
            font-size: 18px;
            margin-bottom: 30px;
            color: #333;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .quiz-option {
            background: white;
            border: 2px solid #ddd;
            padding: 15px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .quiz-option.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .quiz-option.wrong {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .quiz-result {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }

        .score {
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-size: 18px;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .verb-grid {
                grid-template-columns: 1fr;
            }
            
            .quiz-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>è‹±èªå‹•è©ä¸‰æ…‹å­¸ç¿’ ğŸ“šâœ¨</h1>
            <p>å­¸ç¿’è‹±æ–‡å‹•è©è®ŠåŒ–ï¼Œè¼•é¬†æŒæ¡æ™‚æ…‹ï¼ğŸ¯</p>
        </div>

        <div class="mode-tabs">
            <button class="tab-btn active" onclick="showMode('all')">ğŸ“– å…¨éƒ¨å‹•è©</button>
            <button class="tab-btn" onclick="showMode('single')">ğŸ¯ å–®å€‹å­¸ç¿’</button>
            <button class="tab-btn" onclick="showMode('quiz')">ğŸ§© æ¸¬é©—æ¨¡å¼</button>
        </div>

        <!-- å…¨éƒ¨å‹•è©æ¨¡å¼ -->
        <div id="all-mode" class="content-section">
            <h2 style="text-align: center; margin-bottom: 30px; color: #667eea;">ğŸŒŸ æ‰€æœ‰å‹•è©ä¸‰æ…‹</h2>
            <div class="verb-grid" id="verb-grid"></div>
        </div>

        <!-- å–®å€‹å‹•è©æ¨¡å¼ -->
        <div id="single-mode" class="content-section hidden">
            <div class="single-verb-view">
                <div class="verb-navigation">
                    <button class="nav-btn" onclick="previousVerb()">â¬…ï¸ ä¸Šä¸€å€‹</button>
                    <span class="verb-counter" id="verb-counter">1 / 77</span>
                    <button class="nav-btn" onclick="nextVerb()">ä¸‹ä¸€å€‹ â¡ï¸</button>
                </div>
                
                <div class="single-verb-card" id="single-verb-card"></div>
                
                <button class="auto-play-btn" onclick="autoPlay()">ğŸ”Š è‡ªå‹•æ’­æ”¾å…¨éƒ¨</button>
            </div>
        </div>

        <!-- æ¸¬é©—æ¨¡å¼ -->
        <div id="quiz-mode" class="content-section hidden">
            <div class="quiz-section">
                <h2 style="text-align: center; margin-bottom: 20px; color: #667eea;">ğŸ§  å‹•è©æ¸¬é©—</h2>
                
                <div class="quiz-controls">
                    <button class="nav-btn" onclick="setQuizMode('sequential')">ğŸ“ ä¾åºæ¸¬é©—</button>
                    <button class="nav-btn" onclick="setQuizMode('random')">ğŸ² éš¨æ©Ÿæ¸¬é©—</button>
                    <button class="nav-btn" onclick="resetQuiz()">ğŸ”„ é‡æ–°é–‹å§‹</button>
                </div>
                
                <div class="score" id="quiz-score">å¾—åˆ†: 0 / 0 ğŸŒŸ</div>
                
                <div class="quiz-card" id="quiz-card">
                    <div class="quiz-question" id="quiz-question">é»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹æ¸¬é©—ï¼</div>
                    <div class="quiz-options" id="quiz-options"></div>
                    <div class="quiz-result" id="quiz-result"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å‹•è©è³‡æ–™
        const verbs = [
            {chinese: "å‚·å®³", present: "hurt", past: "hurt", pastParticiple: "hurt"},
            {chinese: "åˆ‡å‰²", present: "cut", past: "cut", pastParticiple: "cut"},
            {chinese: "èŠ±è²»", present: "cost", past: "cost", pastParticiple: "cost"},
            {chinese: "æ”¾ç½®", present: "put", past: "put", pastParticiple: "put"},
            {chinese: "è®“", present: "let", past: "let", pastParticiple: "let"},
            {chinese: "ç¢°æ’", present: "hit", past: "hit", pastParticiple: "hit"},
            {chinese: "é–±è®€", present: "read", past: "read", pastParticiple: "read"},
            {chinese: "é—œé–‰", present: "shut", past: "shut", pastParticiple: "shut"},
            {chinese: "èªª", present: "say", past: "said", pastParticiple: "said"},
            {chinese: "ä»˜è²»", present: "pay", past: "paid", pastParticiple: "paid"},
            {chinese: "è³£", present: "sell", past: "sold", pastParticiple: "sold"},
            {chinese: "å‘Šè¨´", present: "tell", past: "told", pastParticiple: "told"},
            {chinese: "è¶•ä¸Šï¼›æ¥ä½", present: "catch", past: "caught", pastParticiple: "caught"},
            {chinese: "æ•™å°", present: "teach", past: "taught", pastParticiple: "taught"},
            {chinese: "æ‰“æ¶", present: "fight", past: "fought", pastParticiple: "fought"},
            {chinese: "è²·", present: "buy", past: "bought", pastParticiple: "bought"},
            {chinese: "å¸¶ä¾†", present: "bring", past: "brought", pastParticiple: "brought"},
            {chinese: "æ€è€ƒï¼›æƒ³", present: "think", past: "thought", pastParticiple: "thought"},
            {chinese: "æœ‰ï¼›åƒ", present: "have", past: "had", pastParticiple: "had"},
            {chinese: "è½åˆ°", present: "hear", past: "heard", pastParticiple: "heard"},
            {chinese: "è£½é€ ï¼›åš", present: "make", past: "made", pastParticiple: "made"},
            {chinese: "å»ºç¯‰ï¼›å»ºé€ ", present: "build", past: "built", pastParticiple: "built"},
            {chinese: "å€Ÿå‡º", present: "lend", past: "lent", pastParticiple: "lent"},
            {chinese: "å¯„", present: "send", past: "sent", pastParticiple: "sent"},
            {chinese: "èŠ±è²»", present: "spend", past: "spent", pastParticiple: "spent"},
            {chinese: "æŒ–", present: "dig", past: "dug", pastParticiple: "dug"},
            {chinese: "å", present: "sit", past: "sat", pastParticiple: "sat"},
            {chinese: "å¾—åˆ°", present: "get", past: "got", pastParticiple: "got/gotten"},
            {chinese: "å¿˜è¨˜", present: "forget", past: "forgot", pastParticiple: "forgot/forgotten"},
            {chinese: "æŠ•å°„ï¼›é–‹æ§", present: "shoot", past: "shot", pastParticiple: "shot"},
            {chinese: "è¼¸æ‰", present: "lose", past: "lost", pastParticiple: "lost"},
            {chinese: "è´", present: "win", past: "won", pastParticiple: "won"},
            {chinese: "æŠ“ä½ï¼›ä¿æŒ", present: "hold", past: "held", pastParticiple: "held"},
            {chinese: "æ„Ÿè¦º", present: "feel", past: "felt", pastParticiple: "felt"},
            {chinese: "ä¿ç•™", present: "keep", past: "kept", pastParticiple: "kept"},
            {chinese: "ç¡è¦º", present: "sleep", past: "slept", pastParticiple: "slept"},
            {chinese: "æƒ", present: "sweep", past: "swept", pastParticiple: "swept"},
            {chinese: "é›¢é–‹ï¼›ç•™ä¸‹", present: "leave", past: "left", pastParticiple: "left"},
            {chinese: "æ„æŒ‡", present: "mean", past: "meant", pastParticiple: "meant"},
            {chinese: "é‡è¦‹", present: "meet", past: "met", pastParticiple: "met"},
            {chinese: "é¤µé¤Š", present: "feed", past: "fed", pastParticiple: "fed"},
            {chinese: "æ‡¸æ›", present: "hang", past: "hung", pastParticiple: "hung"},
            {chinese: "ç«™ç«‹", present: "stand", past: "stood", pastParticiple: "stood"},
            {chinese: "æ‰¾åˆ°", present: "find", past: "found", pastParticiple: "found"},
            {chinese: "æ“Šï¼›æ•²æ‰“", present: "beat", past: "beat", pastParticiple: "beaten"},
            {chinese: "è·‘æ­¥", present: "run", past: "ran", pastParticiple: "run"},
            {chinese: "ä¾†", present: "come", past: "came", pastParticiple: "come"},
            {chinese: "è®Šæˆ", present: "become", past: "became", pastParticiple: "become"},
            {chinese: "be å‹•è©", present: "be", past: "was/were", pastParticiple: "been"},
            {chinese: "å»", present: "go", past: "went", pastParticiple: "gone"},
            {chinese: "åš", present: "do", past: "did", pastParticiple: "done"},
            {chinese: "å”±æ­Œ", present: "sing", past: "sang", pastParticiple: "sung"},
            {chinese: "éˆ´éŸ¿", present: "ring", past: "rang", pastParticiple: "rung"},
            {chinese: "å–", present: "drink", past: "drank", pastParticiple: "drunk"},
            {chinese: "é–‹å§‹", present: "begin", past: "began", pastParticiple: "begun"},
            {chinese: "æ¸¸æ³³", present: "swim", past: "swam", pastParticiple: "swum"},
            {chinese: "èªª", present: "speak", past: "spoke", pastParticiple: "spoken"},
            {chinese: "é†’", present: "wake", past: "woke", pastParticiple: "woken"},
            {chinese: "å·", present: "steal", past: "stole", pastParticiple: "stolen"},
            {chinese: "æ‰“ç ´", present: "break", past: "broke", pastParticiple: "broken"},
            {chinese: "é¸æ“‡", present: "choose", past: "chose", pastParticiple: "chosen"},
            {chinese: "ç©¿", present: "wear", past: "wore", pastParticiple: "worn"},
            {chinese: "æ’•è£‚", present: "tear", past: "tore", pastParticiple: "torn"},
            {chinese: "å¿å—ï¼›ç”Ÿ", present: "bear", past: "bore", pastParticiple: "born"},
            {chinese: "é–‹è»Š", present: "drive", past: "drove", pastParticiple: "driven"},
            {chinese: "æ‰è½", present: "fall", past: "fell", pastParticiple: "fallen"},
            {chinese: "é¨", present: "ride", past: "rode", pastParticiple: "ridden"},
            {chinese: "å¯«", present: "write", past: "wrote", pastParticiple: "written"},
            {chinese: "å’¬", present: "bite", past: "bit", pastParticiple: "bitten"},
            {chinese: "èº²è—", present: "hide", past: "hid", pastParticiple: "hidden"},
            {chinese: "èªè­˜ï¼›çŸ¥é“", present: "know", past: "knew", pastParticiple: "known"},
            {chinese: "æˆé•·ï¼›ç¨®æ¤", present: "grow", past: "grew", pastParticiple: "grown"},
            {chinese: "å¹", present: "blow", past: "blew", pastParticiple: "blown"},
            {chinese: "æŠ•ï¼›æ“²", present: "throw", past: "threw", pastParticiple: "thrown"},
            {chinese: "é£›", present: "fly", past: "flew", pastParticiple: "flown"},
            {chinese: "å±•ç¾", present: "show", past: "showed", pastParticiple: "shown"},
            {chinese: "ç•«ï¼›ç¹ªè£½", present: "draw", past: "drew", pastParticiple: "drawn"}
        ];

        let currentVerbIndex = 0;
        let quizMode = 'sequential';
        let quizIndex = 0;
        let quizScore = 0;
        let quizTotal = 0;
        let isAnswered = false;

        // ç”Ÿæˆä¾‹å¥
        function generateExamples(verb) {
            return [
                {
                    en: `I ${verb.present} every day.`,
                    zh: `æˆ‘æ¯å¤©${verb.chinese}ã€‚`,
                    tense: 'present'
                },
                {
                    en: `I ${verb.past} yesterday.`,
                    zh: `æˆ‘æ˜¨å¤©${verb.chinese}äº†ã€‚`,
                    tense: 'past'
                },
                {
                    en: `I have ${verb.pastParticiple}.`,
                    zh: `æˆ‘å·²ç¶“${verb.chinese}äº†ã€‚`,
                    tense: 'perfect'
                }
            ];
        }

        // èªéŸ³æ’­æ”¾
        function playSound(text) {
            const audio = new Audio(`https://translate.google.com/translate_tts?ie=UTF-8&q=${encodeURIComponent(text)}&tl=en&client=tw-ob`);
            audio.play().catch(e => console.log('èªéŸ³æ’­æ”¾å¤±æ•—:', e));
        }

        // åˆå§‹åŒ–å…¨éƒ¨å‹•è©è¦–åœ–
        function initAllVerbsView() {
            const grid = document.getElementById('verb-grid');
            grid.innerHTML = '';
            
            verbs.forEach(verb => {
                const card = document.createElement('div');
                card.className = 'verb-card';
                card.innerHTML = `
                    <div class="verb-forms">
                        <div class="verb-form">
                            <h4>ç¾åœ¨å¼</h4>
                            <div class="verb-word" onclick="playSound('${verb.present}')">${verb.present}</div>
                        </div>
                        <div class="verb-form">
                            <h4>éå»å¼</h4>
                            <div class="verb-word" onclick="playSound('${verb.past}')">${verb.past}</div>
                        </div>
                        <div class="verb-form">
                            <h4>éå»åˆ†è©</h4>
                            <div class="verb-word" onclick="playSound('${verb.pastParticiple}')">${verb.pastParticiple}</div>
                        </div>
                    </div>
                    <div class="chinese-meaning">ğŸ‡¹ğŸ‡¼ ${verb.chinese}</div>
                `;
                grid.appendChild(card);
            });
        }

        // æ›´æ–°å–®å€‹å‹•è©è¦–åœ–
        function updateSingleVerbView() {
            const verb = verbs[currentVerbIndex];
            const examples = generateExamples(verb);
            
            document.getElementById('verb-counter').textContent = `${currentVerbIndex + 1} / ${verbs.length}`;
            
            const card = document.getElementById('single-verb-card');
            card.innerHTML = `
                <h3 style="color: #667eea; margin-bottom: 20px;">ğŸ‡¹ğŸ‡¼ ${verb.chinese}</h3>
                <div class="verb-forms">
                    <div class="verb-form">
                        <h4>ç¾åœ¨å¼</h4>
                        <div class="verb-word" onclick="playSound('${verb.present}')">${verb.present}</div>
                    </div>
                    <div class="verb-form">
                        <h4>éå»å¼</h4>
                        <div class="verb-word" onclick="playSound('${verb.past}')">${verb.past}</div>
                    </div>
                    <div class="verb-form">
                        <h4>éå»åˆ†è©</h4>
                        <div class="verb-word" onclick="playSound('${verb.pastParticiple}')">${verb.pastParticiple}</div>
                    </div>
                </div>
                <div class="examples">
                    <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ“ ä¾‹å¥</h4>
                    ${examples.map(ex => `
                        <div class="example-item" onclick="playSound('${ex.en}')">
                            <div class="example-en">ğŸ”Š ${ex.en}</div>
                            <div class="example-zh">${ex.zh}</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // è‡ªå‹•æ’­æ”¾
        async function autoPlay() {
            const verb = verbs[currentVerbIndex];
            const examples = generateExamples(verb);
            
            const items = [
                verb.present,
                verb.past,
                verb.pastParticiple,
                ...examples.map(ex => ex.en)
            ];
            
            for (let i = 0; i < items.length; i++) {
                playSound(items[i]);
                await new Promise(resolve => setTimeout(resolve, 2000));
            }
        }

        // å°èˆªåŠŸèƒ½
        function previousVerb() {
            currentVerbIndex = currentVerbIndex > 0 ? currentVerbIndex - 1 : verbs.length - 1;
            updateSingleVerbView();
        }

        function nextVerb() {
            currentVerbIndex = currentVerbIndex < verbs.length - 1 ? currentVerbIndex + 1 : 0;
            updateSingleVerbView();
        }

        // æ¨¡å¼åˆ‡æ›
        function showMode(mode) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.content-section').forEach(section => section.classList.add('hidden'));
            
            event.target.classList.add('active');
            document.getElementById(`${mode}-mode`).classList.remove('hidden');
            
            if (mode === 'single') {
                updateSingleVerbView();
            }
        }

        // æ¸¬é©—åŠŸèƒ½
        function setQuizMode(mode) {
            quizMode = mode;
            quizIndex = 0;
            quizScore = 0;
            quizTotal = 0;
            isAnswered = false;
            updateQuizScore();
            generateQuizQuestion();
        }

        function resetQuiz() {
            quizIndex = 0;
            quizScore = 0;
            quizTotal = 0;
            isAnswered = false;
            updateQuizScore();
            document.getElementById('quiz-question').textContent = 'é»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹æ¸¬é©—ï¼';
            document.getElementById('quiz-options').innerHTML = '';
            document.getElementById('quiz-result').innerHTML = '';
        }

        function generateQuizQuestion() {
            if (quizIndex >= verbs.length && quizMode === 'sequential') {
                showQuizComplete();
                return;
            }
            
            const verbIndex = quizMode === 'random' ? Math.floor(Math.random() * verbs.length) : quizIndex;
            const verb = verbs[verbIndex];
            const examples = generateExamples(verb);
            const selectedExample = examples[Math.floor(Math.random() * examples.length)];
            
            // éš¨æ©Ÿé¸æ“‡è¦æ¸¬é©—çš„å‹•è©å½¢å¼
            const forms = ['present', 'past', 'pastParticiple'];
            const targetForm = forms[Math.floor(Math.random() * forms.length)];
            const correctAnswer = verb[targetForm];
            
            // ç”Ÿæˆå¹²æ“¾é¸é …
            const allAnswers = verbs.map(v => v[targetForm]).filter(answer => answer !== correctAnswer);
            const wrongAnswers = [];
            while (wrongAnswers.length < 3 && allAnswers.length > 0) {
                const randomAnswer = allAnswers[Math.floor(Math.random() * allAnswers.length)];
                if (!wrongAnswers.includes(randomAnswer)) {
                    wrongAnswers.push(randomAnswer);
                }
                allAnswers.splice(allAnswers.indexOf(randomAnswer), 1);
            }
            
            const options = [correctAnswer, ...wrongAnswers].sort(() => Math.random() - 0.5);
            
            // å»ºç«‹é¡Œç›®ï¼Œå°‡å‹•è©ç”¨æ‹¬è™Ÿæ¨™ç¤º
            const questionText = selectedExample.en.replace(
                new RegExp(`\\b${selectedExample.en.split(' ').find(word => 
                    verb.present === word.toLowerCase() || 
                    verb.past === word.toLowerCase() || 
                    verb.pastParticiple === word.toLowerCase().replace(/[^a-z]/g, '')
                )}\\b`, 'i'), 
                '( __ )'
            );
            
            document.getElementById('quiz-question').innerHTML = `
                <div onclick="playSound('${selectedExample.en}')" style="cursor: pointer;">
                    ğŸ”Š ${questionText}
                </div>
                <div style="font-size: 14px; color: #666; margin-top: 10px;">
                    ${selectedExample.zh}
                </div>
                <div style="font-size: 14px; color: #667eea; margin-top: 10px;">
                    è«‹é¸æ“‡æ­£ç¢ºçš„${targetForm === 'present' ? 'ç¾åœ¨å¼' : targetForm === 'past' ? 'éå»å¼' : 'éå»åˆ†è©'}å‹•è©
                </div>
            `;
            
            const optionsDiv = document.getElementById('quiz-options');
            optionsDiv.innerHTML = '';
            
            options.forEach(option => {
                const optionBtn = document.createElement('div');
                optionBtn.className = 'quiz-option';
                optionBtn.textContent = option;
                optionBtn.onclick = () => selectQuizAnswer(option, correctAnswer, optionBtn);
                optionsDiv.appendChild(optionBtn);
            });
            
            document.getElementById('quiz-result').innerHTML = '';
            isAnswered = false;
            
            if (quizMode === 'sequential') {
                quizIndex++;
            }
        }

        function selectQuizAnswer(selected, correct, buttonElement) {
            if (isAnswered) return;
            
            isAnswered = true;
            quizTotal++;
            
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => {
                if (option.textContent === correct) {
                    option.classList.add('correct');
                } else if (option === buttonElement && selected !== correct) {
                    option.classList.add('wrong');
                }
                option.style.pointerEvents = 'none';
            });
            
            if (selected === correct) {
                quizScore++;
                document.getElementById('quiz-result').innerHTML = 'âœ… æ­£ç¢ºï¼';
                playSound(correct);
            } else {
                document.getElementById('quiz-result').innerHTML = `âŒ éŒ¯èª¤ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correct}`;
                playSound(correct);
            }
            
            updateQuizScore();
            
            setTimeout(() => {
                if (quizMode === 'random' || quizIndex < verbs.length) {
                    generateQuizQuestion();
                }
            }, 2000);
        }

        function updateQuizScore() {
            document.getElementById('quiz-score').textContent = `å¾—åˆ†: ${quizScore} / ${quizTotal} ğŸŒŸ`;
        }

        function showQuizComplete() {
            const percentage = Math.round((quizScore / quizTotal) * 100);
            let emoji = 'ğŸ‰';
            let message = '';
            
            if (percentage >= 90) {
                emoji = 'ğŸ†';
                message = 'å¤ªæ£’äº†ï¼ä½ æ˜¯å‹•è©é«˜æ‰‹ï¼';
            } else if (percentage >= 70) {
                emoji = 'ğŸ‘';
                message = 'åšå¾—å¾ˆå¥½ï¼ç¹¼çºŒåŠ æ²¹ï¼';
            } else if (percentage >= 50) {
                emoji = 'ğŸ’ª';
                message = 'ä¸éŒ¯å–”ï¼å¤šç·´ç¿’æœƒæ›´å¥½ï¼';
            } else {
                emoji = 'ğŸ“š';
                message = 'éœ€è¦å¤šç·´ç¿’ï¼ŒåŠ æ²¹ï¼';
            }
            
            document.getElementById('quiz-question').innerHTML = `
                <div style="font-size: 24px; margin-bottom: 20px;">${emoji}</div>
                <div style="font-size: 20px; color: #667eea; margin-bottom: 10px;">æ¸¬é©—å®Œæˆï¼</div>
                <div style="font-size: 16px; color: #666;">${message}</div>
                <div style="font-size: 18px; margin-top: 20px; color: #333;">
                    æœ€çµ‚å¾—åˆ†: ${quizScore} / ${quizTotal} (${percentage}%)
                </div>
            `;
            document.getElementById('quiz-options').innerHTML = '';
            document.getElementById('quiz-result').innerHTML = '';
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initAllVerbsView();
            updateSingleVerbView();
        });
    </script>
</body>
</html>